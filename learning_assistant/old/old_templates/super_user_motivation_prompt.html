{% extends 'base.html' %}
{% load static %}

{% block content %}

    <style>

        #code-column{
            padding-top: 27px;
            padding-left: 25px;
        }

        .input-container {
            display: flex;
            margin-top: 20px;            
        }

        h4{
            font-family: 'Raleway', sans-serif;
        }

        .chat-container {
            height: 200px;
            width: 80%;
            border: 1px solid #ccc;
            border-radius: 10px;
            overflow-y: auto;
            padding: 15px;
            margin-top: 20px;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f2f2f2;
            border-radius: 10px;
        }

        .input-box {
            padding: 10px;
            border-radius: 5px;
        }

        .container{
            overflow-y: hidden;
            overflow-x: hidden;            
        }
        
    </style>


    <div class="ui centered grid container">

        <div class="fourteen wide column" id="code-column">
        
            <h4 style="font-size: 18px;">
                <i class="comments icon"></i>
                <!-- Chat with Code Companion -->
                Chat
            </h4>

            <span style="font-size: 13px; color: gray;">
                My goal is to help you, on your personal lifelong learning journey.
                <!-- <br/>
                For programming questions, feel free to visit our <a href="{% url 'playground' %}">code editor</a>, where you can run code and get help, as needed. -->
            </span>

            <div class="chat-container" id="chat">
                        
                <div class="message">
                    Welcome to the "Introductory Python Course, where the student is accompanied with an AI assistant."
                    I want to learn a bit about you. What are your motivations for taking this course?
                </div>

                <hr>

            </div>

            <div class="input-container">

                <div class="ui form" style="width: 100%;">
                    <div class="field">
                        <textarea rows="2" id="chatInput" class="input-box form-control" placeholder="ask away..."></textarea>
                    </div>                    
                </div>
                &nbsp;
                <button id="sendButton" class="ui primary button disabled send-button">Send</button>
                <button class="ui primary loading button" id="primary_loading_button" style="display: none;">Loading</button>

            </div>

            <span style="font-size: 12px; color: gray; padding-bottom: 20px;">
                Answer Response usually takes 15-30 seconds. (this will get better soon...)
            </span>
            <br/>
            <span style="font-size: 12px; color: gray; padding-bottom: 20px;">
                <a href="{% url 'login' %}">Signup</a> to save your conversations, along with uploading your files or working in our code editor environment.
            </span>


        </div>

    </div>

    <br/>
    <br/>
    <!-- <br/> -->


    <div class="ui tiny modal" id="file_upload_modal">
        
        <div class="ui active inverted dimmer" id="loading_modal_div" style="display: none;">
            <div class="ui text loader">Loading... this will take 30-45 seconds...</div>
        </div>

        <div class="header">
            Upload your File
        </div>
        
        <div class="content">

            <form class="ui form" method="post" enctype="multipart/form-data">{% csrf_token %}
                
                <div class="required field">
                    <label>File Name</label>
                    <input type="text" name="file-name" placeholder="file name" id="user_file_name" required>
                    <span id="file_name_error_message" style="float: right; color: red; font-size: 13.5px; display: none;"></span>
                </div>
                
                <div class="required field">
                    <label>Choose File</label>
                    <input type="file" id="user_file" name="user_file" accept="application/pdf" required>
                    <span id="file_error_message" style="float: right; color: red; font-size: 13.5px; display: none;"></span>
                </div>
                
                <!-- <br/><br/> -->
                <!-- <button class="ui black button" type="submit" name="user_file_upload">Submit</button> -->

            </form>

        </div>

        <div class="actions">
            <div class="ui cancel button">Cancel</div>
            <div id="file_upload_button" class="ui approve secondary button" type="submit">Upload</div>
        </div>

    </div>


{% endblock %}


